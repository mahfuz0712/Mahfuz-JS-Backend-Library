const a0_0x330dc6=a0_0x4b82;(function(_0x2d61b0,_0x6270f8){const _0x3dcaf6=a0_0x4b82,_0x151d38=_0x2d61b0();while(!![]){try{const _0x1d4929=parseInt(_0x3dcaf6(0xef))/0x1*(-parseInt(_0x3dcaf6(0xf7))/0x2)+-parseInt(_0x3dcaf6(0xe1))/0x3+-parseInt(_0x3dcaf6(0xfa))/0x4*(parseInt(_0x3dcaf6(0xb2))/0x5)+parseInt(_0x3dcaf6(0xd1))/0x6*(-parseInt(_0x3dcaf6(0x8f))/0x7)+parseInt(_0x3dcaf6(0xc0))/0x8*(parseInt(_0x3dcaf6(0x92))/0x9)+-parseInt(_0x3dcaf6(0x8c))/0xa*(-parseInt(_0x3dcaf6(0xf8))/0xb)+parseInt(_0x3dcaf6(0xf0))/0xc*(parseInt(_0x3dcaf6(0xb5))/0xd);if(_0x1d4929===_0x6270f8)break;else _0x151d38['push'](_0x151d38['shift']());}catch(_0x5ebb62){_0x151d38['push'](_0x151d38['shift']());}}}(a0_0x46e6,0x8e515));import a0_0x5a1161 from'axios';class Frontend{constructor(){const _0x3f1ce4=a0_0x4b82;this[_0x3f1ce4(0xd3)]=a0_0x5a1161['create']();}['ConnectToBackend'](_0x84cabf){const _0x4c826f=a0_0x4b82;if(!_0x84cabf){alert('Please\x20store\x20the\x20backend\x20URL\x20in\x20the\x20environment\x20variable\x20BACKEND_URL');return;}this['Server'][_0x4c826f(0xcb)][_0x4c826f(0x7b)]=_0x84cabf;}[a0_0x330dc6(0x9c)](){const _0x42b4b8=a0_0x330dc6;this[_0x42b4b8(0xd3)][_0x42b4b8(0x8b)][_0x42b4b8(0xda)][_0x42b4b8(0xa8)](_0x423cdb=>{const _0x6f6c01=_0x42b4b8;return console['log'](_0x6f6c01(0xc7),_0x423cdb),_0x423cdb;},_0x5bc9aa=>{const _0x5eeb90=_0x42b4b8;return console[_0x5eeb90(0xec)](_0x5eeb90(0xe6),_0x5bc9aa),Promise[_0x5eeb90(0x80)](_0x5bc9aa);}),this[_0x42b4b8(0xd3)]['interceptors']['response'][_0x42b4b8(0xa8)](_0x2c6605=>{const _0x4dc826=_0x42b4b8;return console[_0x4dc826(0xe9)](_0x4dc826(0xd6),_0x2c6605),_0x2c6605;},_0x158202=>{const _0x45d70f=_0x42b4b8;return console[_0x45d70f(0xec)](_0x45d70f(0x9d),_0x158202[_0x45d70f(0xe0)]||_0x158202[_0x45d70f(0x9a)]),Promise[_0x45d70f(0x80)](_0x158202);});}async['SendToBackend'](_0x27f552,_0x80e8f7){const _0x3c716c=a0_0x330dc6;try{const _0x1335d2=await this[_0x3c716c(0xd3)][_0x3c716c(0xd4)](_0x27f552,_0x80e8f7);return _0x1335d2;}catch(_0x42cd43){return _0x42cd43;}}async[a0_0x330dc6(0xde)](_0x42031b){const _0x5a6d91=a0_0x330dc6;try{const _0x2125bb=await this['Server'][_0x5a6d91(0xbe)](_0x42031b);return _0x2125bb;}catch(_0x2ae453){return _0x2ae453;}}async['UpdateInBackend'](_0x666107,_0x397009){const _0x18e80f=a0_0x330dc6;try{const _0x5c2d5d=await this['Server'][_0x18e80f(0xc8)](_0x666107,_0x397009);return _0x5c2d5d;}catch(_0x1e43f1){return _0x1e43f1;}}async[a0_0x330dc6(0xb0)](_0x475a6f,_0x573521){const _0x4c4983=a0_0x330dc6;try{const _0x9137fb=await this[_0x4c4983(0xd3)][_0x4c4983(0x7f)](_0x475a6f,_0x573521);return _0x9137fb;}catch(_0x1faa7d){return _0x1faa7d;}}async[a0_0x330dc6(0xaf)](_0x42d29f){const _0x5f1aee=a0_0x330dc6;try{const _0x50e81b=await this[_0x5f1aee(0xd3)]['delete'](_0x42d29f);return _0x50e81b;}catch(_0x207443){return _0x207443;}}async[a0_0x330dc6(0xd8)](_0x305fa0){try{const _0x164916=await a0_0x5a1161['all'](_0x305fa0);return _0x164916;}catch(_0x2b15a3){return _0x2b15a3;}}[a0_0x330dc6(0xbd)](){const _0x5f49cb=a0_0x330dc6,_0x394c3d=a0_0x5a1161[_0x5f49cb(0xad)];return this[_0x5f49cb(0xca)]=_0x394c3d[_0x5f49cb(0xca)](),this[_0x5f49cb(0xca)];}async[a0_0x330dc6(0x9b)](_0x64e87c,_0x523424){const _0x5c7ff1=a0_0x330dc6,_0x4cceb8=this[_0x5c7ff1(0xbd)]();try{const _0x40b197=await this[_0x5c7ff1(0xd3)]['post'](_0x64e87c,_0x523424,{'cancelToken':_0x4cceb8[_0x5c7ff1(0xa9)]});return _0x40b197;}catch(_0x243b5f){if(a0_0x5a1161[_0x5c7ff1(0xae)](_0x243b5f))console[_0x5c7ff1(0xe9)](_0x5c7ff1(0xb4),_0x243b5f[_0x5c7ff1(0x9a)]);else return _0x243b5f;}}async[a0_0x330dc6(0xbc)](_0x2c53a8,_0x3c0d08){const _0x11c76a=a0_0x330dc6;try{const _0x12edbe=new FormData();_0x12edbe['append'](_0x11c76a(0x98),_0x3c0d08);const _0x33c6a1=await this[_0x11c76a(0xd3)][_0x11c76a(0xd4)](_0x2c53a8,_0x12edbe,{'headers':{'Content-Type':'multipart/form-data'},'onUploadProgress':_0x58dccb=>{const _0x27b994=_0x11c76a,_0x51faf7=Math['round'](_0x58dccb['loaded']/_0x58dccb[_0x27b994(0xc2)]*0x64);console[_0x27b994(0xe9)]('Upload\x20Progress:\x20'+_0x51faf7+'%');}});return _0x33c6a1;}catch(_0x1025a7){return _0x1025a7;}}}function a0_0x4b82(_0x175b0f,_0x3940e6){const _0x46e6e3=a0_0x46e6();return a0_0x4b82=function(_0x4b8258,_0x1478fb){_0x4b8258=_0x4b8258-0x78;let _0x455549=_0x46e6e3[_0x4b8258];return _0x455549;},a0_0x4b82(_0x175b0f,_0x3940e6);}import a0_0x172a20 from'express';import a0_0x3c95ba from'cookie-parser';import a0_0x1aea89 from'cors';class Backend{constructor(){this['Server']=a0_0x172a20();}[a0_0x330dc6(0x90)](_0x383a75){const _0x432380=a0_0x330dc6;if(!_0x383a75){console['log'](_0x432380(0xf3));return;}return this[_0x432380(0xd3)][_0x432380(0xa8)](a0_0x1aea89({'origin':_0x383a75,'credentials':!![]})),!![];}['ConfigureMiddlewares'](_0x2a41f6){const _0x9b2283=a0_0x330dc6;if(!_0x2a41f6){console[_0x9b2283(0xe9)](_0x9b2283(0xc9));return;}this[_0x9b2283(0xd3)]['use'](a0_0x172a20['json']({'limit':_0x9b2283(0x7d)})),this['Server']['use'](a0_0x172a20[_0x9b2283(0xe2)]({'extended':!![],'limit':_0x9b2283(0x7d)})),this['Server'][_0x9b2283(0xa8)](a0_0x172a20['static'](_0x9b2283(0x96))),this[_0x9b2283(0xd3)][_0x9b2283(0xa8)](a0_0x3c95ba());}[a0_0x330dc6(0x81)](_0x11607c){const _0x259549=a0_0x330dc6;if(!_0x11607c){console[_0x259549(0xe9)]('Security\x20Headers\x20are\x20not\x20added');return;}this[_0x259549(0xd3)][_0x259549(0xa8)]((_0x12260a,_0x4b7385,_0x3be134)=>{const _0x53e166=_0x259549;_0x4b7385['setHeader']('Content-Security-Policy',_0x53e166(0x78)),_0x4b7385[_0x53e166(0x86)](_0x53e166(0x84),_0x53e166(0xc4)),_0x3be134();});}async[a0_0x330dc6(0xab)](_0x37355d){const _0x5a2de6=a0_0x330dc6;if(!_0x37355d){console['log'](_0x5a2de6(0xf9));return;}this['Server'][_0x5a2de6(0x91)](_0x37355d,()=>{const _0xe3f346=_0x5a2de6;console[_0xe3f346(0xe9)](_0xe3f346(0x79)+_0x37355d);});}['HandleError'](_0x58dd5d,_0x40a16c,_0x2397ba,_0x5c3d38){const _0x5374a7=a0_0x330dc6;console['error'](_0x58dd5d[_0x5374a7(0xa6)]),_0x2397ba[_0x5374a7(0xaa)](0x1f4)[_0x5374a7(0xdb)](_0x5374a7(0xd7));}[a0_0x330dc6(0x82)](_0x26442e){const _0x46ef07=a0_0x330dc6;_0x26442e[_0x46ef07(0x8d)](_0x39b7c5=>{const _0x55ab34=_0x46ef07,{method:_0x16fc4c,path:_0x2f96c6,handler:_0x45a2be}=_0x39b7c5;this[_0x55ab34(0xd3)][_0x16fc4c](_0x2f96c6,_0x45a2be);});}[a0_0x330dc6(0xf2)](_0x43fcc4,_0x47985d){const _0xc6a460=a0_0x330dc6;this[_0xc6a460(0xd3)][_0xc6a460(0xbe)](_0x43fcc4,_0x47985d);}['RecieveFromFrontend'](_0x124c40,_0x3e32da){const _0x19afda=a0_0x330dc6;this[_0x19afda(0xd3)]['post'](_0x124c40,_0x3e32da);}[a0_0x330dc6(0x99)](_0x54f529,_0x3111b5){const _0x3586de=a0_0x330dc6;this[_0x3586de(0xd3)][_0x3586de(0xc8)](_0x54f529,_0x3111b5);}[a0_0x330dc6(0xed)](_0x80705,_0x33d330){const _0x3b10e5=a0_0x330dc6;this[_0x3b10e5(0xd3)][_0x3b10e5(0x7f)](_0x80705,_0x33d330);}[a0_0x330dc6(0x8a)](_0x250d29,_0xcf1680){const _0x17887a=a0_0x330dc6;this[_0x17887a(0xd3)][_0x17887a(0xc1)](_0x250d29,_0xcf1680);}[a0_0x330dc6(0xf1)](_0x1156f0){const _0x3e8d5c=a0_0x330dc6;this[_0x3e8d5c(0xd3)]['use'](_0x1156f0);}}import a0_0x270e55 from'mongoose';class DatabaseConnector{constructor(_0x52ee45,_0x57164e={}){const _0x46d35d=a0_0x330dc6;this[_0x46d35d(0xb3)]=_0x52ee45,this[_0x46d35d(0x9e)]=_0x57164e;}[a0_0x330dc6(0xcd)]=async()=>{const _0x5b80e9=a0_0x330dc6;if(!this['config']){console[_0x5b80e9(0xe9)](_0x5b80e9(0xd5));return;}const {host:_0x4e8177,port:port=0x6989,username:_0x4ef0bf,password:_0x594988,dbName:_0x94aa7e}=this['config'];let _0x3237ac;_0x4ef0bf&&_0x594988?_0x3237ac=_0x5b80e9(0x93)+_0x4ef0bf+':'+encodeURIComponent(_0x594988)+'@'+_0x4e8177+':'+port+'/'+_0x94aa7e+_0x5b80e9(0xe7):_0x3237ac=_0x5b80e9(0x93)+_0x4e8177+':'+port+'/'+_0x94aa7e;try{await a0_0x270e55[_0x5b80e9(0xf6)](_0x3237ac,{...this[_0x5b80e9(0x9e)]}),console['log'](_0x5b80e9(0xbf),_0x3237ac,_0x5b80e9(0xb9));}catch(_0x37599b){console[_0x5b80e9(0xec)]('MongoDB\x20connection\x20failed:\x20'+_0x37599b['message']);}};['ConnectToMongoDBAtlas']=async()=>{const _0x33f794=a0_0x330dc6;if(!this[_0x33f794(0xb3)]){console[_0x33f794(0xe9)](_0x33f794(0xa2));return;}const {subdomain:_0x8b3fef,username:_0x11a76f,password:_0x3229e6,cluster:_0x2460c1}=this['config'],_0xc3d134=_0x33f794(0xee)+_0x11a76f+':'+_0x3229e6+'@'+_0x2460c1[_0x33f794(0xea)]()+'.'+_0x8b3fef+_0x33f794(0xeb)+_0x2460c1[_0x33f794(0xea)]();try{await a0_0x270e55[_0x33f794(0xf6)](_0xc3d134,{...this['options']});}catch(_0xdb0173){console[_0x33f794(0xec)](_0x33f794(0xc5),_0xc3d134,_0xdb0173[_0x33f794(0x9a)]);}};}import a0_0x5b5629 from'bcryptjs';import a0_0x179b3c from'sha1';import a0_0x39ef61 from'md5';class Utils{['GenerateRandomNumber']=_0xde231e=>{const _0x53fdb1=a0_0x330dc6;if(_0xde231e>0xf)return console['warn']('Digit\x20length\x20exceeds\x20safe\x20range.\x20Returning\x20a\x20string\x20instead.'),Array(_0xde231e)[_0x53fdb1(0xdd)](0x0)[_0x53fdb1(0xbb)](()=>Math[_0x53fdb1(0x88)](Math[_0x53fdb1(0x94)]()*0xa))[_0x53fdb1(0xc3)]('');return Math[_0x53fdb1(0x88)](Math[_0x53fdb1(0x95)](0xa,_0xde231e-0x1)+Math[_0x53fdb1(0x94)]()*Math[_0x53fdb1(0x95)](0xa,_0xde231e-0x1));};[a0_0x330dc6(0x9f)]=_0x3d38db=>{return(_0x6c434b,_0x50bbb1,_0x429a7c)=>{const _0x19f2b0=a0_0x4b82;Promise[_0x19f2b0(0xe4)](_0x3d38db(_0x6c434b,_0x50bbb1,_0x429a7c))[_0x19f2b0(0xb7)](_0x23b023=>_0x429a7c(_0x23b023));};};['Encrypt']=_0x408122=>{const _0x2340e2=a0_0x330dc6,_0x5b1bf8=_0x2340e2(0xfb),_0x5ac652=_0x2340e2(0xdf),_0x57b401=_0x5b1bf8+_0x408122+_0x5ac652,_0x4a6069=a0_0x179b3c(_0x57b401),_0x28ea3d=a0_0x39ef61(_0x4a6069),_0x4b70bd=a0_0x5b5629['hashSync'](_0x28ea3d,0xa);return _0x4b70bd;};[a0_0x330dc6(0xcf)]=(_0x3f3d97,_0x2c9f5b)=>{const _0x56ad63=a0_0x330dc6,_0x2e67ec='58384akrhfnt',_0x2e6cfa=_0x56ad63(0xdf),_0x2a53ac=_0x2e67ec+_0x3f3d97+_0x2e6cfa,_0x285867=a0_0x179b3c(_0x2a53ac),_0x1999bf=a0_0x39ef61(_0x285867);return a0_0x5b5629[_0x56ad63(0xa4)](_0x1999bf,_0x2c9f5b);};}class ApiResponse{constructor(_0x22c258,_0x3006f1,_0x5b9651='Success'){const _0x3a8165=a0_0x330dc6;this['statusCode']=_0x22c258,this[_0x3a8165(0xf4)]=_0x3006f1,this[_0x3a8165(0x9a)]=_0x5b9651,this['success']=_0x22c258<0x190;}}function a0_0x46e6(){const _0x5e2cd2=['CheckLatestVersion','map','UploadFileToBackend','CancelRequest','get','Connected\x20to\x20MongoDB\x20successfully\x20at\x20this\x20URL:','8oeNyIn','delete','total','join','nosniff','Error\x20connecting\x20to\x20MongoDB\x20Atlas\x20at:','.dmg','Request\x20Sent:','put','Middlewares\x20are\x20not\x20configured','source','defaults','errors','ConnectToMongoDB','Please\x20provide\x20SMTP\x20mail\x20configuration','Compare','token\x20','18wpqyJE','Name','Server','post','Please\x20provide\x20MongoDB\x20configuration','Response\x20Received:','Something\x20broke!','ConcurrentRequests','SendMail','request','send','GithubUsername','fill','RecieveFromBackend','4855827gjehe','response','683448xVEJii','urlencoded','browser_download_url','resolve','RepoName','Request\x20Error:','?authSource=admin','Please\x20provide\x20\x20Github\x20configuration','log','toLowerCase','.mongodb.net/?retryWrites=true&w=majority&appName=','error','PartialUpdateInFrontend','mongodb+srv://','8054cJwxmH','10288164QBuZAi','Use','SendToFrontend','Please\x20store\x20the\x20frontend\x20URL\x20in\x20the\x20environment\x20variable\x20FRONTEND_URL','data','RepoToken','connect','134BmOaxy','11fuHygz','Please\x20store\x20the\x20backend\x20port\x20in\x20the\x20environment\x20variable\x20BACKEND_PORT','36DBoMXG','58384akrhfnt','default-src\x20\x27self\x27','Server\x20is\x20running\x20on\x20port\x20','https://api.github.com/repos/','baseURL','Invalid\x20RepoName\x20or\x20RepoToken','32kb','.exe','patch','reject','AddSecurityHeaders','UseRoutes','\x22\x20<','X-Content-Type-Options','transporter','setHeader','Error\x20response:','floor','/releases/latest','DeleteFromFrontend','interceptors','9080690IhxJdi','forEach','Could\x20Not\x20Connect\x20To\x20Server','83195PCWbeR','ConnectToFrontend','listen','1678248wyKAir','mongodb://','random','pow','public','Please\x20provide\x20OS\x20name','file','UpdateInFrontend','message','SendWithCancel','AddInterceptors','Response\x20Error:','options','AsyncHandler','\x20file\x20found\x20for\x20','createTransport','Please\x20provide\x20MongoDB\x20Atlas\x20configuration','No\x20','compareSync','find','stack','windows','use','token','status','StartServer','From','CancelToken','isCancel','DeleteFromBackend','PartialUpdateInBackend','application/vnd.github.v3+json','314370jLioNK','config','Request\x20canceled:','13PpzVAI','name','catch','linux','\x0aYou\x20Should\x20Use\x20MongoDB\x20Atlas\x20In\x20Production'];a0_0x46e6=function(){return _0x5e2cd2;};return a0_0x46e6();}class ApiError extends Error{constructor(_0x1ffe78,_0x1b4c17='Something\x20Went\x20Wrong',_0x24c856=[],_0x15c0a4=''){const _0x2661f9=a0_0x330dc6;super(_0x1b4c17),this['statusCode']=_0x1ffe78,this[_0x2661f9(0xf4)]=null,this[_0x2661f9(0x9a)]=_0x1b4c17,this['success']=![],this[_0x2661f9(0xcc)]=_0x24c856,_0x15c0a4?this['stack']=_0x15c0a4:Error['captureStackTrace'](this,this['constructor']);}}import a0_0x317df6 from'nodemailer';class MahfuzMailer{constructor(_0x599d4b={}){const _0x9485b9=a0_0x330dc6;this['config']=_0x599d4b;if(!this[_0x9485b9(0xb3)]){console[_0x9485b9(0xe9)](_0x9485b9(0xce));return;}const {Name:_0x5e8119,From:_0x19394e,Host:_0x2806b3,Port:Port=0x1d1,Username:_0x3cf32f,Password:_0x187d66}=this[_0x9485b9(0xb3)];this[_0x9485b9(0xd2)]=_0x5e8119,this[_0x9485b9(0xac)]=_0x19394e,this[_0x9485b9(0x85)]=a0_0x317df6[_0x9485b9(0xa1)]({'host':_0x2806b3,'port':Port,'secure':!![],'auth':{'user':_0x3cf32f,'pass':_0x187d66}});}async[a0_0x330dc6(0xd9)](_0xef2799,_0x3ab0b6,_0x280ec9){const _0x1671d6=a0_0x330dc6;try{return await this['transporter']['sendMail']({'from':'\x22'+this[_0x1671d6(0xd2)]+_0x1671d6(0x83)+this[_0x1671d6(0xac)]+'>','to':_0xef2799,'subject':_0x3ab0b6,'html':_0x280ec9}),!![];}catch(_0x1e3f1e){return![];}}}class UpdateChecker{constructor(_0x3c8f3b={}){const _0x15285a=a0_0x330dc6;this[_0x15285a(0xb3)]=_0x3c8f3b;if(!this[_0x15285a(0xb3)]){console[_0x15285a(0xe9)](_0x15285a(0xe8));return;}const {GithubUsername:_0x49c795,RepoName:_0xb020f0,RepoToken:_0x124ac8}=this['config'];this[_0x15285a(0xdc)]=_0x49c795,this[_0x15285a(0xe5)]=_0x49c795+'/'+_0xb020f0,this['RepoToken']=_0x124ac8;}async[a0_0x330dc6(0xba)](_0x207f21){const _0x49057c=a0_0x330dc6;if(!_0x207f21)return{'success':![],'message':_0x49057c(0x97)};let _0x55c36e;switch(_0x207f21[_0x49057c(0xea)]()){case _0x49057c(0xa7):_0x55c36e=_0x49057c(0x7e);break;case'mac':_0x55c36e=_0x49057c(0xc6);break;case _0x49057c(0xb8):_0x55c36e='.deb';break;default:return{'success':![],'message':'Unsupported\x20OS'};}try{const _0x3de24b=await a0_0x5a1161[_0x49057c(0xbe)](_0x49057c(0x7a)+this['RepoName']+_0x49057c(0x89),{'headers':{'Authorization':_0x49057c(0xd0)+this[_0x49057c(0xf5)],'Accept':_0x49057c(0xb1)}}),_0x5f577a=_0x3de24b[_0x49057c(0xf4)],_0x1d17ac=_0x5f577a['assets'][_0x49057c(0xa5)](_0x2d777c=>_0x2d777c[_0x49057c(0xb6)]['endsWith'](_0x55c36e));return _0x1d17ac?{'success':!![],'downloadUrl':_0x1d17ac[_0x49057c(0xe3)]}:{'success':![],'message':_0x49057c(0xa3)+_0x55c36e+_0x49057c(0xa0)+_0x207f21};}catch(_0x286820){if(_0x286820[_0x49057c(0xe0)]){console['error'](_0x49057c(0x87),_0x286820[_0x49057c(0xe0)][_0x49057c(0xf4)]);if(_0x286820[_0x49057c(0xe0)][_0x49057c(0xaa)]===0x194)return{'success':![],'message':_0x49057c(0x7c)};}else console[_0x49057c(0xec)]('Error:',_0x286820[_0x49057c(0x9a)]);return{'success':![],'message':_0x49057c(0x8e)};}}}export{Frontend,Backend,DatabaseConnector,Utils,ApiResponse,ApiError,MahfuzMailer,UpdateChecker};